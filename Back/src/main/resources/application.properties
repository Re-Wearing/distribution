spring.application.name=RE-WEAR

# 이메일 설정 - 보안을 위해 환경 변수 사용 권장
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:rewear0903@gmail.com}
spring.mail.password=${MAIL_PASSWORD:zyzh gssd zomi yfzu}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

rewear.admin.username=admin
rewear.admin.password=admin
rewear.admin.email=mymp903@gmail.com
rewear.admin.phone=01000000000

# 기본 사용자 계정 설정
rewear.user.username=user01
rewear.user.password=user01
rewear.user.reset-password=false

# 기본 기관 계정 설정
rewear.organ.username=organ01
rewear.organ.password=organ01
rewear.organ.business-no=1234567890
rewear.organ.org-name=ReWear
rewear.organ.reset-password=false
rewear.organ.auto-approve=true

# --- MySQL Database 설정 ---
# 환경 변수로도 설정 가능 (DB_HOST, DB_PORT, DB_NAME, DB_USERNAME, DB_PASSWORD)
# 환경 변수가 없으면 아래 기본값 사용
spring.datasource.url=${DB_URL:jdbc:mysql://localhost:3306/rewear?serverTimezone=Asia/Seoul&useSSL=false&characterEncoding=UTF-8&allowPublicKeyRetrieval=true}
spring.datasource.username=${DB_USERNAME:rewear}
spring.datasource.password=${DB_PASSWORD:admin}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA DDL 설정 - 프로덕션 환경에서는 validate 권장
spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:update}
# 프로덕션에서는 SQL 로그 비활성화
spring.jpa.show-sql=${JPA_SHOW_SQL:false}
spring.jpa.properties.hibernate.format_sql=${JPA_FORMAT_SQL:false}

# 로그 레벨 설정 - 프로덕션 환경에서는 INFO 이상 권장
logging.level.root=${LOG_LEVEL_ROOT:info}
logging.level.org.springframework.security=${LOG_LEVEL_SECURITY:info}
logging.level.org.thymeleaf=${LOG_LEVEL_THYMELEAF:info}
logging.level.org.springframework.web=${LOG_LEVEL_WEB:info}

# 세션 쿠키 설정 - HTTP 환경 (HTTPS 사용 시 Secure=true로 변경 필요)
server.servlet.session.cookie.secure=${SESSION_COOKIE_SECURE:false}
server.servlet.session.cookie.same-site=${SESSION_COOKIE_SAME_SITE:lax}
server.servlet.session.cookie.http-only=true
server.servlet.session.timeout=30m

# 로그 파일 저장 설정 (비활성화)
# logging.file.name=logs/application.log
# logging.file.max-size=10MB
# logging.file.max-history=30

# 파일 업로드 설정
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# 업로드 디렉토리 - 절대 경로 권장 (환경 변수 UPLOAD_DIR로 설정 가능)
# EC2 배포 시 예: /home/ubuntu/rewear-backend/uploads
app.upload.dir=${UPLOAD_DIR:uploads}

# CORS 허용 도메인 (쉼표로 구분, 환경 변수 CORS_ALLOWED_ORIGINS로도 설정 가능)
# 환경 변수가 우선순위가 높습니다.
# EC2 배포 환경: 퍼블릭 DNS와 IP 주소 모두 포함
app.cors.allowed-origins=http://ec2-13-209-64-97.ap-northeast-2.compute.amazonaws.com,http://13.209.64.97,http://localhost:5173,http://localhost:3000
